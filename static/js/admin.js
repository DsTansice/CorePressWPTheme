null!=set.code.headcode&&(set.code.headcode=BASE64.decode(set.code.headcode));null!=set.code.footcode&&(set.code.footcode=BASE64.decode(set.code.footcode));null!=set.code.css&&(set.code.css=BASE64.decode(set.code.css));null!=set.post.copyright&&(set.post.copyright=BASE64.decode(set.post.copyright));var vue=new Vue({el:"#app",data:{menu_active:1,adminurl:adminurl,set:set,dialog:{colorPick:!1}},methods:{selectMenu:function(a,b){vue.menu_active=a},reThemeColor:function(a){0==a?vue.set.theme.themeColor="#409EFF":1==a?vue.set.theme.fontSelectedColor="#3390ff":2==a&&(vue.set.theme.themeHoverColor="#409EFF")},selectImg:function(a,b){var c;c=wp.media({title:"\u9009\u62e9\u56fe\u7247",button:{text:"\u63d2\u5165"},multiple:!1});c.on("select",function(){attachment=c.state().get("selection").first().toJSON();"set.routine.logo"===a?vue.set.routine.logo=attachment.url:"set.routine.defaultthumbnail"===a?vue.set.routine.defaultthumbnail=attachment.url:"set.routine.footer_1_imgurl"===a?vue.set.routine.footer_1_imgurl=attachment.url:"set.routine.footer_2_imgurl"===a?vue.set.routine.footer_2_imgurl=attachment.url:"set.routine.favicon"===a?vue.set.routine.favicon=attachment.url:"swiperlist"===a?vue.set.index.swiperlist[b].imgurl=attachment.url:"set.user.lgoinpageimg"===a&&(vue.set.user.lgoinpageimg=attachment.url)});c.open()},delSwiper:function(a){vue.$confirm("\u6b64\u64cd\u4f5c\u5c06\u5220\u9664\u5f53\u524d\u5e7b\u706f\u7247\u9879\u76ee\uff0c\u662f\u5426\u786e\u5b9a\uff1f","\u63d0\u793a",{confirmButtonText:"\u786e\u5b9a",cancelButtonText:"\u53d6\u6d88",type:"warning"}).then(function(){vue.set.index.swiperlist.splice(a,1)})["catch"](function(){})},addSwiper:function(){vue.set.index.swiperlist.push({title:"",url:"",imgurl:""})},moveSwiper:function(a,b){var c=vue.set.index.swiperlist;c[a]=c.splice(a+b,1,c[a])[0]},save:function(){var a=!1;vue.set.index.swiperlist.forEach(function(b,d,e){""==b.imgurl&&(a=!0)});if(1==a)vue.$message({message:"\u5e7b\u706f\u7247\u56fe\u50cf\u5730\u5740\u4e3a\u7a7a\uff0c\u8bf7\u586b\u5199\uff01",type:"warning",offset:50});else if(0!=vue.set.user.loginpage&&null==vue.set.user.lgoinpageurl)vue.$message({message:"\u5df2\u5f00\u542f\u81ea\u5b9a\u4e49\u767b\u5f55\u9875\u9762\uff0c\u8bf7\u8bbe\u7f6e\u5730\u5740",type:"warning",offset:50});else{var b=JSON.parse(JSON.stringify(vue.set));null!=b.code.headcode&&(b.code.headcode=BASE64.encode(b.code.headcode));null!=b.code.footcode&&(b.code.footcode=BASE64.encode(b.code.footcode));null!=b.code.css&&(b.code.css=BASE64.encode(b.code.css));null!=b.post.copyright&&(b.post.copyright=BASE64.encode(b.post.copyright));axios.post(vue.adminurl+"?action\x3dsave",{save:BASE64.encode(JSON.stringify(b))}).then(function(a){1==a.data.code?vue.$message({message:"\u4fdd\u5b58\u6210\u529f\uff01",type:"success",offset:50}):vue.$message({message:"\u4f60\u4ec0\u4e48\u90fd\u8fd8\u6ca1\u4fee\u6539\u5462\uff01",type:"success",offset:50})})}}}});