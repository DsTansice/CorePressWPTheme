(function(){tinymce.PluginManager.add("gh-addShortCode",function(c,e){c.on("click",function(b){var a=$(b.toElement).parents();if("corepress-editbtn"==$(a).attr("id")){var c=a.find("#corepress-editbtn").parent().find("code").text(),d=a.find("#corepress-editbtn").parent().find("code");editcode(c,d)}else"corepress-delbtn"==$(a).attr("id")&&layer.confirm("\u786e\u5b9a\u5220\u9664\u672c\u884c\u4ee3\u7801\uff1f",{title:"\u5220\u9664\u63d0\u793a",btn:["\u786e\u5b9a","\u53d6\u6d88"]},function(b){$(a[1]).remove();layer.close(b)});a.find("#corepress-editbtn").remove();a.find("#corepress-delbtn").remove();"PRE"==b.toElement.tagName&&($(b.toElement).append('\x3cdiv id\x3d"corepress-editbtn" title\x3d"\u7f16\u8f91"\x3e\x3cspan class\x3d"dashicons dashicons-welcome-write-blog"\x3e\x3c/span\x3e\x3c/div\x3e'),$(b.toElement).append('\x3cdiv id\x3d"corepress-delbtn" title\x3d"\u5220\u9664"\x3e\x3cspan class\x3d"dashicons dashicons-no"\x3e\x3c/span\x3e\x3c/div\x3e'))})})})();